


<div class="row">
<div class="col-sm-6">
  <h1>Posts</h1>
</div>

<div class="col-sm-6 text-right">
<%= link_to new_post_path, class: 'btn btn-primary' do %>
  Add New Post
<% end %>
</div>
</div>

<div class="table-responsive">
<table class="table table-striped table-bordered table-hover">
  <thead>
    <tr>
  

          <th>Attachment</th>
          <th>Content</th>
          <th></th>
          
        <th></th>
      
    </tr>
  </thead>

  <tbody>
    <% @posts.each do |post| %>
      <%= content_tag :tr, id: dom_id(post), class: dom_class(post) do %>
        

                    <td><%= post.attachment %></td>
                    <td><%= post.content %></td>

                    
                    <td><p><%= post.likes.count %> <%= (post.likes.count) == 1 ? 'Like' : 'Likes'%></p></td>

                  <td>          
                    <% pre_like = post.likes.find { |like| like.user_id == current_user.id} %>
                    <% if pre_like %>
                      <%= button_to 'Unlike', post_like_path(post, pre_like), method: :delete %>
                    <% else %>
                      <%= button_to 'Like', post_likes_path(post), method: :post %>
                    <% end %>
                  </td>

        
        
         
        
      <% end %>
    <% end %>
  </tbody>
</table>
</div>

